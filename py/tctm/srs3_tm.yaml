headers:
  - name: "common_container"
    base: "../csp_message"
    conditions:
      - name: "../csp_src"
        val: SRS3
  - name: "srs3_header"
    base: "common_container"
    parameters:
      - name: "telemetry_id"
        bit: 8
      - name: "srs3_reserved"
        bit: 16
      - name: "srs3_id"
        bit: 16
    conditions:
      - name: "../csp_sport"
        val: 19

# default settings
# endian: false
# type: int
# signed: false
# bit: 16

containers:
# csp common reply
  - name: ping
    base: "common_container"
    conditions:
      - name: "../csp_sport"
        val: 1
    parameters:
      - name: "ping_value"
  - name: Get_amount_free
    base: "common_container"
    conditions:
      - name: "../csp_sport"
        val: 3
    parameters:
      - name: "amount_free_memory"
        bit: 32
  - name: Get_amount
    base: "common_container"
    conditions:
      - name: "../csp_sport"
        val: 5
    parameters:
      - name: "amount_memory"
        bit: 32
  - name: Sysup_time
    base: "common_container"
    conditions:
      - name: "../csp_sport"
        val: 6
    parameters:
      - name: "Sysup_time"
        bit: 32

# Command reply
  - name: TM
    conditions:
      - name: "SRS3/srs3_id"
        val: 0x7495
    parameters:
      - name: "temp_mcu"
        bit: 16
        signed: true
      - name: "tm_srs3_id2"
      - name: "temp_power"
        bit: 16
        signed: true
      - name: "tm_srs3_id3"
      - name: "temp_lna"
        bit: 16
        signed: true
      - name: "tm_srs3_id4"
      - name: "temp_pa"
        bit: 16
        signed: true
      - name: "tm_srs3_id5"
      - name: "volt_vin"
        bit: 16
      - name: "tm_srs3_id6"
      - name: "volt_vreg"
        bit: 16
      - name: "tm_srs3_id7"
      - name: "volt_3v3"
        bit: 16
      - name: "tm_srs3_id8"
      - name: "curr_vin"
        bit: 16
        signed: true
      - name: "tm_srs3_id9"
      - name: "curr_vreg"
        bit: 16
        signed: true
      - name: "tm_srs3_id10"
      - name: "curr_3v3"
        bit: 16
        signed: true
      - name: "tm_srs3_id11"
      - name: "power_vin"
        bit: 16
      - name: "tm_srs3_id12"
      - name: "power_vreg"
        bit: 16
      - name: "tm_srs3_id13"
      - name: "power_3v3"
        bit: 16

  - name: SYS_BOOT_COUNT
    conditions:
      - name: "SRS3/srs3_id"
        val: 0x428c
    parameters:
      - name: "boot_count"
        bit: 32

  - name: SYS_GWDT_COUNTER
    conditions:
      - name: "SRS3/srs3_id"
        val: 0x4290
    parameters:
      - name: "gwdt_counter"
        bit: 32

  - name: TX
    conditions:
      - name: "SRS3/srs3_id"
        val: 0x11e4
    parameters:
      - name: "tx_allow_always"
        bit: 8
        signed: true
      - name: "tx_srs3_id2"
      - name: "tx_allow_time"
        bit: 16
      - name: "tx_srs3_id3"
      - name: "tx_freq"
        bit: 32
      - name: "tx_srs3_id4"
      - name: "tx_rate"
        bit: 32
      - name: "tx_srs3_id5"
      - name: "tx_bt"
        bit: 8
      - name: "tx_srs3_id6"
      - name: "tx_pout"
        type: float
        bit: 32
      - name: "tx_srs3_id7"
      - name: "tx_gain"
        bit: 16
      - name: "tx_srs3_id8"
      - name: "tx_alc_mode"
        bit: 8
      - name: "tx_srs3_id9"
      - name: "tx_alc_kp"
        type: float
        bit: 32
      - name: "tx_srs3_id10"
      - name: "tx_alc_limit"
        bit: 16
      - name: "tx_srs3_id11"
      - name: "tx_alc_gain"
        bit: 16
      - name: "tx_srs3_id12"
      - name: "tx_rs"
        bit: 8
        signed: true
      - name: "tx_srs3_id13"
      - name: "tx_cc"
        bit: 8
        signed: true
      - name: "tx_srs3_id14"
      - name: "tx_rand"
        bit: 8
        signed: true
      - name: "tx_srs3_id15"
      - name: "tx_crc"
        bit: 8
        signed: true
      - name: "tx_srs3_id16"
      - name: "tx_idle_frames"
        bit: 16
      - name: "tx_srs3_id17"
      - name: "tx_train_type"
        bit: 8
      - name: "tx_srs3_id18"
      - name: "tx_preamble"
        bit: 16
      - name: "tx_srs3_id19"
      - name: "tx_postamble"
        bit: 16
      - name: "tx_srs3_id20"
      - name: "tx_midamble"
        bit: 16
      - name: "tx_srs3_id21"
      - name: "tx_size"
        bit: 16
      - name: "tx_srs3_id22"
      - name: "tx_id"
        bit: 16
      - name: "tx_srs3_id23"
      - name: "tx_crypto_key_len"
      - name: "tx_crypto_key"
        type: "binary"
        bit: 256
      - name: "tx_srs3_id24"
      - name: "tx_crypto_encrypt"
        bit: 8
      - name: "tx_srs3_id25"
      - name: "tx_crypto_auth"
        bit: 8
      - name: "tx_srs3_id26"
      - name: "tx_frames"
        bit: 32
      - name: "tx_srs3_id27"
      - name: "tx_power_forward"
        type: float
        bit: 32
      - name: "tx_srs3_id28"
      - name: "tx_power_reflection"
        type: float
        bit: 32
      - name: "tx_srs3_id29"
      - name: "tx_over_power"
        bit: 16
      - name: "tx_srs3_id30"
      - name: "tx_pll_nolock"
        bit: 16

  - name: RX
    conditions:
      - name: "SRS3/srs3_id"
        val: 0x4203
    parameters:
      - name: "rx_freq"
        bit: 32
      - name: "rx_srs3_id2"
      - name: "rx_rate"
        bit: 32
      - name: "rx_srs3_id3"
      - name: "rx_bw"
        bit: 8
      - name: "rx_srs3_id4"
      - name: "rx_rs"
        bit: 8
      - name: "rx_srs3_id5"
      - name: "rx_cc"
        bit: 8
      - name: "rx_srs3_id6"
      - name: "rx_rand"
        bit: 8
      - name: "rx_srs3_id7"
      - name: "rx_crc"
        bit: 8
      - name: "rx_srs3_id8"
      - name: "rx_size"
        bit: 16
      - name: "rx_srs3_id9"
      - name: "rx_id"
        bit: 16
      - name: "rx_srs3_id10"
      - name: "rx_crypto_key_len"
      - name: "rx_crypto_key"
        type: "binary"
        bit: 256
      - name: "rx_srs3_id11"
      - name: "rx_crypto_decrypt"
        bit: 8
      - name: "rx_srs3_id12"
      - name: "rx_crypto_auth"
        bit: 8
      - name: "rx_srs3_id13"
      - name: "rx_local_drop"
        bit: 8
      - name: "rx_srs3_id14"
      - name: "rx_frames"
        bit: 32
      - name: "rx_srs3_id15"
      - name: "rx_detected"
        bit: 32
      - name: "rx_srs3_id16"
      - name: "rx_rssi"
        type: float
        bit: 32
      - name: "rx_srs3_id17"
      - name: "rx_freqerr"
        type: float
        bit: 32
      - name: "rx_srs3_id18"
      - name: "rx_pll_nolock"
        bit: 16

  - name: SYS_1
    conditions:
      - name: "SRS3/srs3_reserved"
        val: 0x1
      - name: "SRS3/srs3_id"
        val: 0xC285
    parameters:
      - name: "sys_name_len"
        bit: 16
      - name: "sys_name"
        type: string
        bit: 20
      - name: "sys_srs3_id2"
      - name: "sys_serial"
        type: "binary"
        bit: 32
      - name: "sys_srs3_id3"
      - name: "sys_sw_ver"
        type: "binary"
        bit: 32
      - name: "sys_srs3_id4"
      - name: "sys_bootcount"
        bit: 32
      - name: "sys_srs3_id5"
      - name: "sys_gwdt_init"
        bit: 32
      - name: "sys_srs3_id6"
      - name: "sys_gwdt_count"
        bit: 32
      - name: "sys_srs3_id7"
      - name: "sys_gwdt_reset"
        type: "binary"
        bit: 32
      - name: "sys_srs3_id8"
      - name: "sys_csp_address"
        bit: 8
      - name: "sys_srs3_id9"
      - name: "sys_csp_route_len"
        bit: 16
      - name: "sys_csp_route"
        type: string
        bit: 100
      - name: "sys_srs3_id10"
      - name: "sys_csp_mtu"
        bit: 16
      - name: "sys_srs3_id11"
      - name: "sys_can_rate"
        bit: 32
      - name: "sys_srs3_id12"
      - name: "sys_can_promisc"
        bit: 8
        signed: true
      - name: "sys_srs3_id13"
      - name: "sys_uart_rate"
        bit: 32
      - name: "sys_srs3_id14"
      - name: "sys_uart_multidrop"
        bit: 8
        signed: true
      - name: "sys_srs3_id15"
      - name: "sys_net_enable"
        bit: 8
        signed: true
      - name: "sys_srs3_id16"
      - name: "sys_net_en_ip_len"
        bit: 16
      - name: "sys_net_en_ip"
        type: string
        bit: 50

  - name: SYS_2
    conditions:
      - name: "SRS3/srs3_reserved"
        val: 0x0
      - name: "SRS3/srs3_id"
        val: 0x22B4
    parameters:
      - name: "sys_net_en_prefix"
        bit: 8
      - name: "sys_srs3_id18"
      - name: "sys_net_en_gw_len"
        bit: 16
      - name: "sys_net_en_gw"
        type: string
        bit: 50
      - name: "sys_srs3_id19"
      - name: "sys_net_rf_ip_len"
        bit: 16
      - name: "sys_net_rf_ip"
        type: string
        bit: 50
      - name: "sys_srs3_id20"
      - name: "sys_net_rf_prefix"
        bit: 8
      - name: "sys_srs3_id21"
      - name: "sys_net_rf_gw_len"
        bit: 16
      - name: "sys_net_rf_gw"
        type: string
        bit: 50
